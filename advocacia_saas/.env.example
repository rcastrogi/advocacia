# ===================================================================
# PETITIO - Configuração de Ambiente
# ===================================================================
# Copie este arquivo para .env e ajuste os valores para seu ambiente

# ===================================================================
# CONFIGURAÇÕES BÁSICAS
# ===================================================================
SECRET_KEY=your-secret-key-here-change-this-in-production
DATABASE_URL=sqlite:///app.db
FLASK_ENV=development
DEBUG=True

# Para produção, use PostgreSQL (Supabase/Render/Fly.io):
# DATABASE_URL=postgresql://user:password@host:5432/database

# ===================================================================
# SEGURANÇA E MONITORAMENTO
# ===================================================================
# Sentry para tracking de erros (obtenha em: https://sentry.io)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# CSRF Protection - Desabilite apenas para desenvolvimento local
# WTF_CSRF_ENABLED=False  # NÃO USE EM PRODUÇÃO!

# Rate Limiting - Desabilite apenas para desenvolvimento local  
# RATELIMIT_ENABLED=False  # NÃO USE EM PRODUÇÃO!

# Redis para cache e rate limiting (recomendado para produção)
# REDIS_URL=redis://localhost:6379/0
# Upstash Redis (free tier): redis://default:password@redis-host:port
REDIS_URL=

# ===================================================================
# BACKUP
# ===================================================================
# Tipo de armazenamento: 'local', 's3', 'b2'
BACKUP_STORAGE=local
BACKUP_RETENTION_DAYS=30

# Amazon S3 (para backups)
S3_BUCKET=petitio-backups
S3_ACCESS_KEY=
S3_SECRET_KEY=

# ===================================================================
# PAGAMENTOS - STRIPE
# ===================================================================
# Obtenha suas chaves em: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here

# Webhook secret (obtenha em: https://dashboard.stripe.com/webhooks)
# Configure a URL do webhook no Stripe Dashboard: https://yourdomain.com/checkout/webhook
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# URLs de retorno após pagamento
STRIPE_SUCCESS_URL=http://localhost:5000/checkout/success
STRIPE_CANCEL_URL=http://localhost:5000/checkout/cancel

# ===================================================================
# EMAIL - SENDGRID (Recomendado)
# ===================================================================
# 1. Crie conta gratuita em: https://sendgrid.com
# 2. Vá para Settings > API Keys > Create API Key
# 3. Copie a API Key gerada
# 4. Configure um domínio autorizado (Settings > Sender Authentication)

# API Key do SendGrid (para SMTP)
SENDGRID_API_KEY=SG.your-sendgrid-api-key-here

# Configurações SMTP (automáticas se usar SendGrid)
MAIL_SERVER=smtp.sendgrid.net
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USERNAME=apikey
MAIL_PASSWORD=SG.your-sendgrid-api-key-here
MAIL_DEFAULT_SENDER=noreply@seudominio.com

# ===================================================================
# INTEGRAÇÕES OPCIONAIS
# ===================================================================
# SendGrid para emails transacionais
SENDGRID_API_KEY=

# Twilio para WhatsApp
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_WHATSAPP_NUMBER=

# ===================================================================
# ADMIN INICIAL
# ===================================================================
ADMIN_EMAIL=admin@petitio.com
ADMIN_PASSWORD=
# Se omitir ADMIN_PASSWORD, uma senha forte será gerada automaticamente
# Para recriar admin, use: ADMIN_FORCE=true
