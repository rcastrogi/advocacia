{% extends "admin/base_admin.html" %}

{% block title %}{{ title }}{% endblock %}

{% block admin_content %}
<div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h1 class="h3 mb-0 text-gray-800"><i class="fas fa-tags text-primary"></i> {{ title }}</h1>
        </div>
        <div>
            <a href="{{ url_for('admin.roadmap_categories') }}" class="btn btn-outline-primary"><i class="fas fa-arrow-left"></i> Voltar</a>
        </div>
    </div>

    <div class="card shadow">
        <div class="card-body">
            <form method="POST">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                <div class="mb-3">
                    <label class="form-label">Nome</label>
                    <input type="text" name="name" class="form-control" value="{{ category.name if category else '' }}" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">Slug</label>
                    <input type="text" name="slug" class="form-control" value="{{ category.slug if category else '' }}" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">Descrição</label>
                    <textarea name="description" class="form-control" rows="3">{{ category.description if category else '' }}</textarea>
                </div>
                <div class="mb-3">
                    <label class="form-label">Ícone (FontAwesome)</label>
                    <input type="text" name="icon" class="form-control" value="{{ category.icon if category else 'fa-lightbulb' }}">
                    <small class="form-text text-muted">Ex: fa-lightbulb, fa-cogs</small>
                </div>
                <div class="mb-3">
                    <label class="form-label">Cor</label>
                    <div class="d-flex flex-wrap gap-2 align-items-center">
                        <label class="btn btn-outline-secondary py-1 px-2">
                            <input type="radio" name="color" value="auto" {% if not category or category.color == 'auto' %}checked{% endif %}> Auto
                        </label>
                        {% for c in colors %}
                        <label class="btn btn-outline-{{ c }} py-1 px-2 d-flex align-items-center">
                            <input type="radio" name="color" value="{{ c }}" {% if category and category.color == c %}checked{% endif %}>
                            <span class="category-swatch bg-{{ c }} ms-2 me-2" aria-hidden="true"></span>
                            <span class="small small-label">{{ c }}</span>
                        </label>
                        {% endfor %}
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label">Ordem</label>
                    <input type="number" name="order" class="form-control" value="{{ category.order if category else 0 }}">
                </div>
                <button class="btn btn-primary" type="submit">Salvar</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}
